Author: 
Description: Update script to replace choices with Debian values
--- a/etc/judgehost-config.php
+++ b/etc/judgehost-config.php
@@ -14,4 +14,4 @@
 // leave empty to disable. This example script can be used to support
 // Oracle (Sun) Java with a chroot (edit the script first!).
 // define('CHROOT_SCRIPT', 'chroot-startstop.sh');
-define('CHROOT_SCRIPT', '');
+define('CHROOT_SCRIPT', 'chroot-startstop.sh');
--- a/judge/chroot-startstop.sh
+++ b/judge/chroot-startstop.sh
@@ -21,7 +21,7 @@
 SUBDIRMOUNTS="etc usr lib lib64"
 
 # Location where to bind mount from:
-CHROOTORIGINAL="/chroot/domjudge"
+CHROOTORIGINAL="/var/lib/domjudge/javachroot"
 
 case "$1" in
 	start)
--- a/misc-tools/dj_make_chroot
+++ b/misc-tools/dj_make_chroot
@@ -23,8 +23,8 @@
 trap cleanup EXIT
 
 # Read command-line parameters:
-CHROOTDIR=$1
-ARCH=$2
+CHROOTDIR=/var/lib/domjudge/javachroot.new
+ARCH=`dpkg --print-architecture`
 
 # Debian release to bootstrap:
 RELEASE="wheezy"
@@ -95,6 +95,7 @@
 	rm -rf "$CHROOTDIR"
 fi
 
+rm -rf "$CHROOTDIR"
 mkdir -p "$CHROOTDIR"
 cd "$CHROOTDIR"
 CHROOTDIR="$PWD"
@@ -230,4 +231,6 @@
 umount "$CHROOTDIR/dev/pts"
 umount "$CHROOTDIR/proc"
 
+mv /var/lib/domjudge/javachroot.new /var/lib/domjudge/javachroot
+
 exit 0
--- a/misc-tools/dj_make_ubuntu_chroot
+++ b/misc-tools/dj_make_ubuntu_chroot
@@ -23,8 +23,8 @@
 trap cleanup EXIT
 
 # Read command-line parameters:
-CHROOTDIR=$1
-ARCH=$2
+CHROOTDIR=/var/lib/domjudge/javachroot.new
+ARCH=`dpkg --print-architecture`
 
 # Ubuntu release (codename) to bootstrap:
 RELEASE="$(lsb_release -c -s)"
@@ -95,6 +95,7 @@
 	rm -rf "$CHROOTDIR"
 fi
 
+rm -rf "$CHROOTDIR"
 mkdir -p "$CHROOTDIR"
 cd "$CHROOTDIR"
 CHROOTDIR="$PWD"
@@ -235,4 +236,6 @@
 umount "$CHROOTDIR/sys"
 umount "$CHROOTDIR/proc"
 
+mv /var/lib/domjudge/javachroot.new /var/lib/domjudge/javachroot
+
 exit 0
--- a/misc-tools/dj_make_ubuntu_java_chroot
+++ b/misc-tools/dj_make_ubuntu_java_chroot
@@ -2,11 +2,11 @@
 # This script will install Oracle(Sun) Java 8 into an existing chroot
 set -e
 
-CHROOTDIR=$1
-ARCH=$2
+CHROOTDIR=/var/lib/domjudge/javachroot
+ARCH=`dpkg --print-architecture`
 
 if [ ! -d "$CHROOTDIR" ]; then
-    dj_make_ubuntu_chroot "$CHROOTDIR" "$ARCH"
+    dj_make_ubuntu_chroot
 fi
 
 function cleanup {
